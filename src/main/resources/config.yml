# WalkieTalkiePlugin configuration
# Minecraft: 1.21.8

# Developer mode (enables extra debug logging)
dev: true

# Nadawanie radiem: trzymaj radio w main hand + użyj PTT w Simple Voice Chat.

# Simple Voice Chat (SVC) integration
# Uwaga: to nie jest konfiguracja portu Voice Chat (to jest w configu SVC).
# Tutaj sterujesz tylko integracją pluginu z API SVC.
svc:
  enabled: true
  logHook: true
  # Voice Chat UDP port (informational only; real port is configured in voicechat-server.properties)
  port: 24454
  # If true, radio/proximity override will only apply within the same world.
  sameWorldOnly: true
  # MicrophonePacketEvent priority used when registering to SVC (higher runs later).
  microphoneEventPriority: 100
  # Radio will be delivered ONLY if receiver is at least this far from the sender.
  # If receiver is closer (and is allowed to hear), we don't send radio to avoid overlap;
  # SVC proximity voice can handle it.
  # Set to 0 to always deliver radio.
  radioMinDistanceBlocks: 100.0

# ItemsAdder IDs (uzupełnimy później). Przykład formatu: "namespace:item_name"
# Uwaga: radio-itemy będą bazować na "disc fragment".
radios:
  czerwoni: "radio:radio_czerwoni"
  niebiescy: "radio:radio_niebiescy"
  handlarze: "radio:radio_handlarze"
  piraci: "radio:radio_piraci"
  tohandlarze: "radio:radio_tohandlarze"
  piraci_random: "radio:radio_piraci_random"

# Feedback sound when starting/stopping radio transmit
sounds:
  start:
    enabled: true
    sound: "block.sand.place"
    volume: 1.0
    pitch: 0.5
  stop:
    enabled: true
    sound: "block.sand.place"
    volume: 1.0
    pitch: 0.1
  # Played once when switching to a radio / between radios in hotbar
  switch:
    enabled: true
    sound: "block.sand.place"
    volume: 0.8
    pitch: 0.8

  # Played once when putting away a radio (switching away from a radio)
  holster:
    enabled: true
    sound: "block.sand.place"
    volume: 1.0
    pitch: 0.1

  # Subtle loop/pulse for a "radio filter" feeling while transmitting (PTT active)
  # This plays locally to the sender only.
  filterLoop:
    enabled: true
    # Mode:
    # - ALWAYS: play while holding a transmit-capable radio
    # - PTT: play only shortly after mic packets (while actively speaking)
    mode: "PTT"
    # How long after last mic packet we still consider the player "actively transmitting"
    activeForMs: 350
    # How often to play the pulse (ticks)
    everyTicks: 20
    sound: "ambient.weather.rain"
    volume: 0.04
    pitch: 1.8

commands:
  messages:
    prefix: "&8[&bWT&8]&r "
    noPermission: "&cBrak permisji."
    reloaded: "&aPrzeładowano konfigurację."
    info:
      - "&bWalkieTalkiePlugin &7v{version}"
      - "&7SVC: &f{svcEnabled} &7worldOnly: &f{sameWorldOnly}"
      - "&7radioMinDistance: &f{radioMinDistance}"
      - "&7voicePort: &f{svcPort}"

# ActionBar notifications (all optional)
notifications:
  transmit:
    start:
      enabled: true
      actionBar: "&aNadawanie"
    stop:
      enabled: true
      actionBar: "&cKoniec nadawania"
  eavesdrop:
    start:
      enabled: true
      actionBar: "&5Podsłuch"
    stop:
      enabled: true
      actionBar: "&5Koniec podsłuchu"

# Hint: pokazuje nadającemu, że musi wcisnąć PTT w Simple Voice Chat
hints:
  pttRequired:
    enabled: true
    # Jeśli od ostatniego pakietu audio minęło tyle ms, pokaż hint
    afterMs: 2000
    # Jak często sprawdzać (ticki)
    checkEveryTicks: 20
    # Minimalny odstęp między ponownym pokazaniem (ticki)
    cooldownTicks: 100
    actionBar: "&eUżyj Voice Chat`u aby nadawać"

# Debugger / diagnostyka
debug:
  enabled: false
  logIntervalMs: 5000
